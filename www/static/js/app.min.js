/*! project6 2014-12-07 */
var beehome=beehome||{};beehome.router=beehome.router||{},beehome.models=beehome.models||{},beehome.collections=beehome.collections||{},beehome.views=beehome.views||{},beehome.views.app=beehome.views.app||{},beehome.views.onboarding=beehome.views.onboarding||{},function(){beehome.app={initialize:function(){this.router=new beehome.router,Backbone.history.start()}}}(),function(){beehome.models.user=Backbone.Model.extend({initialize:function(){console.log("User model")},reset:function(){console.log("User model reset")}})}(),function(){beehome.views.app.dashboard=Backbone.View.extend({className:"app",subView:"#app-subview",events:{"click #btn-close-app-overlay":"onCloseOverlayClick"},initialize:function(){},render:function(){var a=$("#template-app").html(),b=Handlebars.compile(a),c={};return this.$el.html(b(c)),this},afterRender:function(){console.log("After render");var a=$("#template-app-dashboard").html(),b=Handlebars.compile(a),c={},d=b(c);$(this.subView).html(d),setTimeout(this.initCarousel,500)},initCarousel:function(){$(".app__carousel").jcarousel({animation:{duration:200}}),$(".app__carousel-nav").on("jcarouselpagination:active","a",function(){$(this).addClass("active")}).on("jcarouselpagination:inactive","a",function(){$(this).removeClass("active")}).jcarouselPagination({item:function(){return'<a href="javascript:void(0);"><i class="icon icon--hexagon"></i></a>'}})},onCloseOverlayClick:function(){$("#app-overlay").css({opacity:1}),TweenLite.to("#app-overlay",.5,{opacity:0,onComplete:function(){$("#app-overlay").hide()}})},startAnimation:function(){console.log("app: startAnimation"),$(this.$el).css({opacity:0}),$(this.$el).animate({opacity:1},300,function(){this.trigger("startAnimationComplete")}.bind(this))},endAnimation:function(){console.log("app: endAnimation"),$(this.$el).css({opacity:1}),$(this.$el).animate({opacity:0},300,function(){this.trigger("endAnimationComplete")}.bind(this))},dispose:function(){this.undelegateEvents(),this.$el.removeData().unbind(),this.remove(),this.unbind(),Backbone.View.prototype.remove.call(this)}})}(),function(){beehome.views.app.home=Backbone.View.extend({className:"app",subView:"#app-subview",events:{},initialize:function(){},render:function(){var a=$("#template-app").html(),b=Handlebars.compile(a),c={};return this.$el.html(b(c)),this},afterRender:function(){console.log("After render");var a=$("#template-app-home").html(),b=Handlebars.compile(a),c={},d=b(c);$(this.subView).html(d)},startAnimation:function(){console.log("app: startAnimation"),$(this.$el).css({opacity:0}),$(this.$el).animate({opacity:1},300,function(){this.trigger("startAnimationComplete")}.bind(this))},endAnimation:function(){console.log("app: endAnimation"),$(this.$el).css({opacity:1}),$(this.$el).animate({opacity:0},300,function(){this.trigger("endAnimationComplete")}.bind(this))},dispose:function(){this.undelegateEvents(),this.$el.removeData().unbind(),this.remove(),this.unbind(),Backbone.View.prototype.remove.call(this)}})}(),function(){beehome.views.app.main=Backbone.View.extend({className:"app",subView:"#app-subview",events:{},initialize:function(){console.log("views app main")},render:function(){console.log("render views app main");var a=$("#template-app").html(),b=Handlebars.compile(a),c={};return this.$el.html(b(c)),this},afterRender:function(){},startAnimation:function(){console.log("app main: startAnimation"),$(this.$el).css({opacity:0}),$(this.$el).animate({opacity:1},300,function(){this.trigger("startAnimationComplete")}.bind(this))},endAnimation:function(){console.log("app main: endAnimation"),$(this.$el).css({opacity:1}),$(this.$el).animate({opacity:0},300,function(){this.trigger("endAnimationComplete")}.bind(this))},dispose:function(){this.undelegateEvents(),this.$el.removeData().unbind(),this.remove(),this.unbind(),Backbone.View.prototype.remove.call(this)}})}(),function(){beehome.views.app.option=Backbone.View.extend({className:"app",subView:"#app-subview",events:{},initialize:function(){},render:function(){var a=$("#template-app").html(),b=Handlebars.compile(a),c={};return this.$el.html(b(c)),this},afterRender:function(){console.log("After render");var a=$("#template-app-option").html(),b=Handlebars.compile(a),c={},d=b(c);$(this.subView).html(d)},startAnimation:function(){console.log("app: startAnimation"),$(this.$el).css({opacity:0}),$(this.$el).animate({opacity:1},300,function(){this.trigger("startAnimationComplete")}.bind(this))},endAnimation:function(){console.log("app: endAnimation"),$(this.$el).css({opacity:1}),$(this.$el).animate({opacity:0},300,function(){this.trigger("endAnimationComplete")}.bind(this))},dispose:function(){this.undelegateEvents(),this.$el.removeData().unbind(),this.remove(),this.unbind(),Backbone.View.prototype.remove.call(this)}})}(),function(){beehome.views.app.room=Backbone.View.extend({className:"app",subView:"#app-subview",events:{},initialize:function(){},render:function(){var a=$("#template-app").html(),b=Handlebars.compile(a),c={};return this.$el.html(b(c)),this},afterRender:function(){console.log("After render");var a=$("#template-app-room").html(),b=Handlebars.compile(a),c={},d=b(c);$(this.subView).html(d)},startAnimation:function(){console.log("app: startAnimation"),$(this.$el).css({opacity:0}),$(this.$el).animate({opacity:1},300,function(){this.trigger("startAnimationComplete")}.bind(this))},endAnimation:function(){console.log("app: endAnimation"),$(this.$el).css({opacity:1}),$(this.$el).animate({opacity:0},300,function(){this.trigger("endAnimationComplete")}.bind(this))},dispose:function(){this.undelegateEvents(),this.$el.removeData().unbind(),this.remove(),this.unbind(),Backbone.View.prototype.remove.call(this)}})}(),function(){beehome.views.app.sensor=Backbone.View.extend({className:"app",subView:"#app-subview",events:{},initialize:function(){},render:function(){var a=$("#template-app").html(),b=Handlebars.compile(a),c={};return this.$el.html(b(c)),this},afterRender:function(){console.log("After render");var a=$("#template-app-sensor").html(),b=Handlebars.compile(a),c={},d=b(c);$(this.subView).html(d)},startAnimation:function(){console.log("app: startAnimation"),$(this.$el).css({opacity:0}),$(this.$el).animate({opacity:1},300,function(){this.trigger("startAnimationComplete")}.bind(this))},endAnimation:function(){console.log("app: endAnimation"),$(this.$el).css({opacity:1}),$(this.$el).animate({opacity:0},300,function(){this.trigger("endAnimationComplete")}.bind(this))},dispose:function(){this.undelegateEvents(),this.$el.removeData().unbind(),this.remove(),this.unbind(),Backbone.View.prototype.remove.call(this)}})}(),function(){beehome.views.main=Backbone.View.extend({className:"main",events:{},initialize:function(){},render:function(){var a=$("#template-main").html(),b=Handlebars.compile(a),c={};return this.$el.html(b(c)),this},afterRender:function(){},dispose:function(){console.log("Dipsose"),this.undelegateEvents(),this.$el.removeData().unbind(),this.remove(),this.unbind(),Backbone.View.prototype.remove.call(this)},startAnimation:function(){console.log("Main: startAnimation"),$("#main-logo").css({marginTop:"-100px"}),$("#main-loader").css({opacity:0}),$("#main-tagline1").css({opacity:0}),$("#main-tagline2").css({opacity:0}),$("#main-found").css({opacity:0}),TweenLite.to("#main-logo",.5,{marginTop:100,ease:Elastic.easeIn}),TweenLite.to("#main-loader",.5,{opacity:1,delay:1}),TweenLite.to("#main-tagline1",.5,{opacity:1,delay:1.5}),TweenLite.to("#main-found",.5,{opacity:1,delay:2}),TweenLite.to("#main-tagline1",.3,{opacity:0,delay:9,onComplete:function(){$("#main-tagline1").hide()}}),TweenLite.to("#main-loader",.3,{opacity:0,delay:9.3,onComplete:function(){$("#main-loader").hide()}}),TweenLite.to("#main-logo",.3,{marginTop:40,delay:10}),TweenLite.to("#main-tagline2",1,{opacity:1,delay:10.3,onComplete:this.animationComplete})},animationComplete:function(){beehome.app.router.navigate("onboarding/home",{trigger:!0})},endAnimation:function(){console.log("Main: endAnimation"),TweenLite.to("#main-tagline2",.5,{opacity:0}),TweenLite.to("#main-found",.5,{opacity:0}),TweenLite.to("#main-logo",.5,{opacity:0,delay:1,onComplete:function(){this.trigger("endAnimationComplete")}.bind(this)})}})}(),function(){beehome.views.onboarding.end=Backbone.View.extend({className:"onboarding",subView:"#onboarding-subview",events:{},initialize:function(){},render:function(){var a=$("#template-onboarding").html(),b=Handlebars.compile(a),c={};return this.$el.html(b(c)),this},afterRender:function(){var a=$("#template-onboarding-end").html(),b=Handlebars.compile(a),c={},d=b(c);$(this.subView).html(d)},startAnimation:function(){console.log("onboarding: startAnimation"),$(this.$el).css({opacity:0}),$(this.$el).animate({opacity:1},300,function(){this.trigger("startAnimationComplete")}.bind(this))},endAnimation:function(){console.log("onboarding: endAnimation"),$(this.$el).css({opacity:1}),$(this.$el).animate({opacity:0},300,function(){this.trigger("endAnimationComplete")}.bind(this))},dispose:function(){this.undelegateEvents(),this.$el.removeData().unbind(),this.remove(),this.unbind(),Backbone.View.prototype.remove.call(this)}})}(),function(){beehome.views.onboarding.home=Backbone.View.extend({className:"onboarding",subView:"#onboarding-subview",events:{"keypress #onboarding-input-home":"onInputKeyPress"},initialize:function(){},render:function(){var a=$("#template-onboarding").html(),b=Handlebars.compile(a),c={};return this.$el.html(b(c)),this},afterRender:function(){console.log("After render");var a=$("#template-onboarding-home").html(),b=Handlebars.compile(a),c={},d=b(c);$(this.subView).html(d),$("#onboarding-input-home").focus()},onInputKeyPress:function(a){13==a.keyCode&&(beehome.app.user.set({home:a.currentTarget.value}),beehome.app.router.navigate("onboarding/room",{trigger:!0}))},startAnimation:function(){console.log("onboarding: startAnimation"),$("#onboarding-nav").css({opacity:0}),$("#onboarding-home-title").css({opacity:0}),$("#onboarding-home-img").css({left:-300,opacity:0}),$("#onboarding-home-input").css({opacity:0}),TweenLite.to("#onboarding-home-img",.5,{left:0,opacity:1,delay:0}),TweenLite.to("#onboarding-nav",.4,{opacity:1,delay:.5}),TweenLite.to("#onboarding-home-title",.4,{opacity:1,delay:.9}),TweenLite.to("#onboarding-home-input",.4,{opacity:1,delay:1.3,onComplete:function(){this.trigger("startAnimationComplete")}.bind(this)})},endAnimation:function(){console.log("onboarding: endAnimation"),$("#onboarding-home-bee").css({top:400,left:400,opacity:1}),TweenLite.to("#onboarding-home-title",.4,{opacity:0}),TweenLite.to("#onboarding-home-input",.4,{opacity:0,delay:.4}),TweenLite.to("#onboarding-home-bee",1,{top:198,left:154,delay:1}),TweenLite.to("#onboarding-home-img",.5,{opacity:0,delay:2.5}),TweenLite.to("#onboarding-home-bee",.5,{opacity:0,delay:2.5,onComplete:function(){this.trigger("endAnimationComplete")}.bind(this)})},dispose:function(){console.log("Dispose onboarding home"),this.undelegateEvents(),this.$el.removeData().unbind(),this.remove(),this.unbind(),Backbone.View.prototype.remove.call(this)}})}(),function(){beehome.views.onboarding.main=Backbone.View.extend({className:"onboarding",events:{},initialize:function(){},render:function(){var a=$("#template-onboarding").html(),b=Handlebars.compile(a),c={};return this.$el.html(b(c)),this},afterRender:function(){},startAnimation:function(){console.log("onboarding: startAnimation"),$(this.$el).css({opacity:0}),$(this.$el).animate({opacity:1},300,function(){this.trigger("startAnimationComplete")}.bind(this))},endAnimation:function(){console.log("onboarding: endAnimation"),$(this.$el).css({opacity:1}),$(this.$el).animate({opacity:0},300,function(){this.trigger("endAnimationComplete")}.bind(this))},dispose:function(){this.undelegateEvents(),this.$el.removeData().unbind(),this.remove(),this.unbind(),Backbone.View.prototype.remove.call(this)}})}(),function(){beehome.views.onboarding.room=Backbone.View.extend({className:"onboarding",subView:"#onboarding-subview",events:{"keypress #onboarding-input-room":"onInputKeyPress"},initialize:function(){},render:function(){var a=$("#template-onboarding").html(),b=Handlebars.compile(a),c={};return this.$el.html(b(c)),this},afterRender:function(){var a=$("#template-onboarding-room").html(),b=Handlebars.compile(a),c={},d=b(c);$(this.subView).html(d),$("#onboarding-input-room").focus()},onInputKeyPress:function(a){13==a.keyCode&&(beehome.app.user.set({room:a.currentTarget.value}),beehome.app.router.navigate("onboarding/sensor",{trigger:!0}))},startAnimation:function(){console.log("onboarding: startAnimation"),$("#onboarding-room-title").css({opacity:0}),$("#onboarding-room-img").css({opacity:0,left:-400}),$("#onboarding-room-input").css({opacity:0}),TweenLite.to("#onboarding-room-img",.5,{left:0,opacity:1,delay:0}),TweenLite.to("#onboarding-room-title",.4,{opacity:1,delay:.9}),TweenLite.to("#onboarding-room-input",.4,{opacity:1,delay:1.3,onComplete:function(){this.trigger("startAnimationComplete")}.bind(this)})},endAnimation:function(){console.log("onboarding: endAnimation"),$("#onboarding-room-bee").css({left:400,top:400,opacity:1}),TweenLite.to("#onboarding-room-title",.4,{opacity:0}),TweenLite.to("#onboarding-room-input",.4,{opacity:0,delay:.4}),TweenLite.to("#onboarding-room-img",.5,{opacity:0,left:400,delay:1}),TweenLite.to("#onboarding-room-animation",.5,{opacity:1,delay:1.5}),TweenLite.to("#onboarding-room-bee",.5,{top:180,left:210,delay:1.5}),TweenLite.to("#onboarding-room-animation",.5,{opacity:0,delay:5}),TweenLite.to("#onboarding-room-bee",.5,{opacity:0,delay:5,onComplete:function(){this.trigger("endAnimationComplete")}.bind(this)})},dispose:function(){this.undelegateEvents(),this.$el.removeData().unbind(),this.remove(),this.unbind(),Backbone.View.prototype.remove.call(this)}})}(),function(){beehome.views.onboarding.sensor=Backbone.View.extend({className:"onboarding",subView:"#onboarding-subview",sensorInputValue:35,events:{"click #btn-sensor-save":"onSensorSaveClick","click #btn-sensor-next":"onSensorNextClick"},initialize:function(){},render:function(){var a=$("#template-onboarding").html(),b=Handlebars.compile(a),c={};return this.$el.html(b(c)),this},afterRender:function(){var a=$("#template-onboarding-sensor").html(),b=Handlebars.compile(a),c={},d=b(c);$(this.subView).html(d),setTimeout(this.initCarousel,500)},initCarousel:function(){$(".onboarding__selection").jcarousel({animation:{duration:200}}),$(".onboarding__selection").jcarousel("scroll",6),$(".onboarding__selection").on("jcarousel:targetin","li",function(){$(this).addClass("active"),beehome.views.onboarding.sensor.sensorInputValue=$(this).attr("data-rel")}),$(".onboarding__selection").on("jcarousel:targetout","li",function(){$(this).removeClass("active")}),$(".onboarding__selection-next").click(function(){$(".onboarding__selection").jcarousel("scroll","-=1")}),$(".onboarding__selection-prev").click(function(){$(".onboarding__selection").jcarousel("scroll","+=1")})},onSensorSaveClick:function(){beehome.app.user.set({sensor:beehome.views.onboarding.sensor.sensorInputValue}),beehome.app.router.navigate("onboarding/sensor2",{trigger:!0}),this.setWattValue()},onSensorNextClick:function(){beehome.app.user.set({sensor:!1}),beehome.app.router.navigate("onboarding/sensor2",{trigger:!0}),this.setWattValue()},setWattValue:function(){$("#onboarding-sensor-watt").html(beehome.app.user.get("sensor"))},startAnimation:function(){console.log("Sensor: startAnimation"),$("#onboarding-sensor-title").css({opacity:0}),$("#onboarding-sensor-carousel").css({opacity:0}),$("#onboarding-sensor-amount").css({opacity:0}),$("#onboarding-sensor-nav").css({opacity:0}),TweenLite.to("#onboarding-sensor-title",.4,{opacity:1}),TweenLite.to("#onboarding-sensor-carousel",.4,{opacity:1,delay:.5}),TweenLite.to("#onboarding-sensor-amount",.4,{opacity:1,delay:.9}),TweenLite.to("#onboarding-sensor-nav",.4,{opacity:1,delay:1.3,onComplete:function(){this.trigger("startAnimationComplete")}.bind(this)})},endAnimation:function(){console.log("Sensor: endAnimation"),TweenLite.to("#onboarding-sensor-title",.4,{opacity:0}),TweenLite.to("#onboarding-sensor-carousel",.4,{opacity:0,delay:.5}),TweenLite.to("#onboarding-sensor-amount",.4,{opacity:0,delay:.5}),TweenLite.to("#onboarding-sensor-nav",.4,{opacity:0,delay:.5}),TweenLite.to("#onboarding-sensor-animation",.4,{opacity:1,delay:1}),TweenLite.to("#onboarding-sensor-animation",.4,{opacity:0,delay:4,onComplete:function(){this.trigger("endAnimationComplete")}.bind(this)})},dispose:function(){console.log("Sensor: dispose"),this.undelegateEvents(),this.$el.removeData().unbind(),this.remove(),this.unbind(),Backbone.View.prototype.remove.call(this)}})}(),function(){beehome.views.onboarding.sensor2=Backbone.View.extend({className:"onboarding",subView:"#onboarding-subview",sensor2InputValue:7,events:{"click #btn-sensor2-save":"onBtnSensor2Click"},initialize:function(){},render:function(){var a=$("#template-onboarding").html(),b=Handlebars.compile(a),c={};return this.$el.html(b(c)),this},afterRender:function(){var a=$("#template-onboarding-sensor2").html(),b=Handlebars.compile(a),c={},d=b(c);$(this.subView).html(d),setTimeout(this.initCarousel,500)},initCarousel:function(){$(".onboarding__selection").jcarousel({animation:{duration:200}}),$(".onboarding__selection").jcarousel("scroll",6),$(".onboarding__selection").on("jcarousel:targetin","li",function(){$(this).addClass("active"),beehome.views.onboarding.sensor2.sensor2InputValue=$(this).attr("data-rel")}),$(".onboarding__selection").on("jcarousel:targetout","li",function(){$(this).removeClass("active")}),$(".onboarding__selection-next").click(function(){$(".onboarding__selection").jcarousel("scroll","-=1")}),$(".onboarding__selection-prev").click(function(){$(".onboarding__selection").jcarousel("scroll","+=1")})},onBtnSensor2Click:function(){beehome.app.user.set({sensor2:beehome.views.onboarding.sensor2.sensor2InputValue}),beehome.app.router.navigate("onboarding/end",{trigger:!0})},startAnimation:function(){console.log("Sensor2: startAnimation"),$("#onboarding-sensor2-title").css({opacity:0}),$("#onboarding-sensor2-carousel").css({opacity:0}),$("#onboarding-sensor2-amount").css({opacity:0}),$("#onboarding-sensor2-nav").css({opacity:0}),TweenLite.to("#onboarding-sensor2-title",.4,{opacity:1}),TweenLite.to("#onboarding-sensor2-carousel",.4,{opacity:1,delay:.5}),TweenLite.to("#onboarding-sensor2-amount",.4,{opacity:1,delay:.9}),TweenLite.to("#onboarding-sensor2-nav",.4,{opacity:1,delay:1.3,onComplete:function(){this.trigger("startAnimationComplete")}.bind(this)})},endAnimation:function(){console.log("Sensor2: endAnimation"),TweenLite.to("#onboarding-sensor2-title",.4,{opacity:0}),TweenLite.to("#onboarding-sensor2-carousel",.4,{opacity:0,delay:.5}),TweenLite.to("#onboarding-sensor2-amount",.4,{opacity:0,delay:.5}),TweenLite.to("#onboarding-sensor2-nav",.4,{opacity:0,delay:.5}),TweenLite.to("#onboarding-sensor2-animation",.4,{opacity:1,delay:1}),TweenLite.to("#onboarding-sensor2-animation",.4,{opacity:0,delay:4,onComplete:function(){this.trigger("endAnimationComplete")}.bind(this)})},dispose:function(){console.log("Sensor2: dispose"),this.undelegateEvents(),this.$el.removeData().unbind(),this.remove(),this.unbind(),Backbone.View.prototype.remove.call(this)}})}(),function(){beehome.router=Backbone.Router.extend({currentView:!1,nextView:!1,routes:{"":"showMain",onboarding:"showOnboarding","onboarding/:page":"showOnboarding",app:"showApp","app/:page":"showApp","app/:page/:action":"showApp"},initialize:function(){beehome.app.user=new beehome.models.user},showMain:function(){var a=new beehome.views.main;this.showView(a)},showOnboarding:function(a){if(a)switch(a){case"home":var b=new beehome.views.onboarding.home;this.showView(b);break;case"room":var b=new beehome.views.onboarding.room;this.showView(b);break;case"sensor":var b=new beehome.views.onboarding.sensor;this.showView(b);break;case"sensor2":var b=new beehome.views.onboarding.sensor2;this.showView(b);break;case"end":var b=new beehome.views.onboarding.end;this.showView(b)}else{var b=new beehome.views.onboarding.main;this.showView(b)}},showApp:function(a){if(console.log("showApp"),a)switch(a){case"dashboard":var b=new beehome.views.app.dashboard;this.showView(b);break;case"home":var b=new beehome.views.app.home;this.showView(b);break;case"room":var b=new beehome.views.app.room;this.showView(b);break;case"sensor":var b=new beehome.views.app.sensor;this.showView(b);break;case"options":var b=new beehome.views.app.option;this.showView(b)}else{var b=new beehome.views.app.main;this.showView(b)}},showView:function(a){this.currentView?(this.nextView=a,this.currentView.on("endAnimationComplete",function(){console.log("Router: endAnimationComplete"),$("#main").html(this.nextView.render().$el),this.nextView.afterRender&&this.nextView.afterRender(),this.nextView.on("startAnimationComplete",function(){console.log("Router: startAnimationComplete"),this.currentView&&this.currentView.dispose(),this.currentView=a,this.currentView.off("startAnimationComplete")}.bind(this)),this.nextView.startAnimation()}.bind(this)),this.currentView.endAnimation?this.currentView.endAnimation():alert("NO currentView end animation")):(this.currentView=a,$("#main").html(this.currentView.render().$el),this.currentView.afterRender&&this.currentView.afterRender(),this.currentView.startAnimation?(this.currentView.on("startAnimationComplete",function(){console.log("Router: startAnimationComplete"),this.currentView.off("startAnimationComplete")}.bind(this)),this.currentView.startAnimation()):alert("NO currentView in animation"))}})}();var phoneGap={initialize:function(){this.bindEvents()},bindEvents:function(){document.addEventListener("deviceready",this.onDeviceReady,!1),document.addEventListener("offlineready",this.onOfflineReady,!1),document.addEventListener("onlineready",this.onOnlineReady,!1)},onDeviceReady:function(){phoneGap.receivedEvent("deviceready")},onOfflineReady:function(){phoneGap.receivedEvent("offlineready")},onOnlineReady:function(){phoneGap.receivedEvent("onlineready")},receivedEvent:function(){}};phoneGap.initialize();